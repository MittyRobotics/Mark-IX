<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Mark IX: TKOGyro Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mark IX
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">TKOGyro Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_t_k_o_gyro_8h_source.html">TKOGyro.h</a>&gt;</code></p>

<p><a href="class_t_k_o_gyro-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a38334c169e97dceb6457e989875e93de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_k_o_gyro.html#a38334c169e97dceb6457e989875e93de">TKOGyro</a> (UINT8 moduleNumber, UINT32 channel)</td></tr>
<tr class="memitem:a329cee1199b0935e646591c548e3502a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_k_o_gyro.html#a329cee1199b0935e646591c548e3502a">TKOGyro</a> (UINT32 channel)</td></tr>
<tr class="memitem:ae4b751a9be6ae337957b20e3c3083e37"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_k_o_gyro.html#ae4b751a9be6ae337957b20e3c3083e37">TKOGyro</a> (AnalogChannel *channel)</td></tr>
<tr class="memitem:add8212e066db0ef3f2bdd01a9d01bb14"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add8212e066db0ef3f2bdd01a9d01bb14"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TKOGyro</b> (AnalogChannel &amp;channel)</td></tr>
<tr class="memitem:a0a59a50d0805a6f98a507933f77ed037"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_k_o_gyro.html#a0a59a50d0805a6f98a507933f77ed037">~TKOGyro</a> ()</td></tr>
<tr class="memitem:af2f5666e5f5d2402ecec2ac87613dc8c"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_k_o_gyro.html#af2f5666e5f5d2402ecec2ac87613dc8c">GetAngle</a> ()</td></tr>
<tr class="memitem:a3b1296faa69e1175d3241f002edbb45e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_k_o_gyro.html#a3b1296faa69e1175d3241f002edbb45e">SetSensitivity</a> (float voltsPerDegreePerSecond)</td></tr>
<tr class="memitem:a8d52b80879305a98620be59a5e089b64"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_k_o_gyro.html#a8d52b80879305a98620be59a5e089b64">Reset</a> ()</td></tr>
<tr class="memitem:ae5ab4261974fea729d252dbdad78326a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_k_o_gyro.html#ae5ab4261974fea729d252dbdad78326a">PIDGet</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a794fe010f1390eb92d175ce8ace372fd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a794fe010f1390eb92d175ce8ace372fd"></a>
static const UINT32&#160;</td><td class="memItemRight" valign="bottom"><b>kOversampleBits</b> = 10</td></tr>
<tr class="memitem:a52e7e66f6fcdc4f9f34c0de39d88e427"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a52e7e66f6fcdc4f9f34c0de39d88e427"></a>
static const UINT32&#160;</td><td class="memItemRight" valign="bottom"><b>kAverageBits</b> = 0</td></tr>
<tr class="memitem:aa6e80a68440185d245310d30e714a9c7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa6e80a68440185d245310d30e714a9c7"></a>
static const float&#160;</td><td class="memItemRight" valign="bottom"><b>kSamplesPerSecond</b> = 1000.0</td></tr>
<tr class="memitem:a0c74698b86f1125fac52fc9d3e2d4bf2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c74698b86f1125fac52fc9d3e2d4bf2"></a>
static const float&#160;</td><td class="memItemRight" valign="bottom"><b>kCalibrationSampleTime</b> = 5.0</td></tr>
<tr class="memitem:aeb705e001e8af34a337ca38d178f386d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb705e001e8af34a337ca38d178f386d"></a>
static const float&#160;</td><td class="memItemRight" valign="bottom"><b>kDefaultVoltsPerDegreePerSecond</b> = 0.007</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Use a rate <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> to return the robots heading relative to a starting position. The <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> class tracks the robots heading based on the starting position. As the robot rotates the new heading is computed by integrating the rate of rotation returned by the sensor. When the class is instantiated, it does a short calibration routine where it samples the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> while at rest to determine the default offset. This is subtracted from each sample to determine the heading. This <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> class must be used with a channel that is assigned one of the Analog accumulators from the FPGA. See AnalogChannel for the current accumulator assignments. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a38334c169e97dceb6457e989875e93de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TKOGyro::TKOGyro </td>
          <td>(</td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>moduleNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> constructor given a slot and a channel.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleNumber</td><td>The analog module the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> is connected to (1). </td></tr>
    <tr><td class="paramname">channel</td><td>The analog channel the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> is connected to (1 or 2). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a329cee1199b0935e646591c548e3502a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TKOGyro::TKOGyro </td>
          <td>(</td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> constructor with only a channel.</p>
<p>Use the default analog module slot.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The analog channel the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> is connected to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae4b751a9be6ae337957b20e3c3083e37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TKOGyro::TKOGyro </td>
          <td>(</td>
          <td class="paramtype">AnalogChannel *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> constructor with a precreated analog channel object. Use this constructor when the analog channel needs to be shared. There is no reference counting when an AnalogChannel is passed to the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a>. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The AnalogChannel object that the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> is connected to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0a59a50d0805a6f98a507933f77ed037"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TKOGyro::~TKOGyro </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Delete (free) the accumulator and the analog components used for the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a>. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af2f5666e5f5d2402ecec2ac87613dc8c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float TKOGyro::GetAngle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the actual angle in degrees that the robot is currently facing.</p>
<p>The angle is based on the current accumulator value corrected by the oversampling rate, the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> type and the A/D calibration values. The angle is continuous, that is can go beyond 360 degrees. This make algorithms that wouldn't want to see a discontinuity in the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> output as it sweeps past 0 on the second time around.</p>
<dl class="section return"><dt>Returns:</dt><dd>the current heading of the robot in degrees. This heading is based on integration of the returned rate from the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ae5ab4261974fea729d252dbdad78326a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double TKOGyro::PIDGet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the angle in degrees for the PIDSource base object.</p>
<dl class="section return"><dt>Returns:</dt><dd>The angle in degrees. </dd></dl>

</div>
</div>
<a class="anchor" id="a8d52b80879305a98620be59a5e089b64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TKOGyro::Reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reset the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a>. Resets the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> to a heading of zero. This can be used if there is significant drift in the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> and it needs to be recalibrated after it has been running. </p>

</div>
</div>
<a class="anchor" id="a3b1296faa69e1175d3241f002edbb45e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TKOGyro::SetSensitivity </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>voltsPerDegreePerSecond</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> type based on the sensitivity. This takes the number of volts/degree/second sensitivity of the <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> and uses it in subsequent calculations to allow the code to work with multiple gyros.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">voltsPerDegreePerSecond</td><td>The type of <a class="el" href="class_t_k_o_gyro.html">TKOGyro</a> specified as the voltage that represents one degree/second. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Vadim_brandi_autobalance/<a class="el" href="_t_k_o_gyro_8h_source.html">TKOGyro.h</a></li>
<li>Vadim_brandi_autobalance/TKOGyro.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 31 2012 13:02:15 for Mark IX by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
